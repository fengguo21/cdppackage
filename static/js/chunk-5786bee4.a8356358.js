(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5786bee4"],{"237f":function(t,e,a){},"2a71":function(t,e,a){"use strict";var i=a("237f"),n=a.n(i);n.a},e2a6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"tab"},[a("ul",{staticClass:"choose-table clearfix"},t._l(t.list,function(e,i){return a("li",{key:e.type,staticClass:"choose-one",on:{click:function(a){return t.choose(i,e.name,e.type)}}},[a("p",{staticClass:"h1"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"h2"},[t._v(t._s(e.number))]),t._v(" "),a("p",{staticClass:"h3"},[t._v("\n          较上周同期    \n          "),a("span",[t._v(t._s(e.hb))]),t._v(" "),a("i",{staticClass:"icon"})]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.currentId==i,expression:"currentId == index ? true:false"}],staticClass:"current"})])}),0)]),t._v(" "),a("div",{staticClass:"echarts"},[a("line-chart",{attrs:{"chart-data":t.lineChartData}})],1)])},n=[],s=(a("9a44"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})}),r=[],o=a("34de"),c=a.n(o),l=a("ed08"),h={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null,sidebarElm:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.initChart(),this.autoResize&&(this.__resizeHandler=Object(l["a"])(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)),this.sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler),this.chart.dispose(),this.chart=null)},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.expectedData,a=t.actualData;this.chart.setOption({title:{text:this.chartData.tit,textStyle:{fontSize:16,color:"#404040",fontWeight:400}},grid:{left:20,right:20,bottom:20,top:60,containLabel:!0},xAxis:{data:this.chartData.xdate,boundaryGap:!1,axisTick:{show:!1}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1},axisLine:{show:!1}},legend:{data:["近七天",""],right:10},series:[{name:"近七天",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2}}},smooth:!0,type:"line",data:a,animationDuration:2800,animationEasing:"cubicInOut"},{name:"",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:e,animationDuration:2800,animationEasing:"quadraticOut"}]})},initChart:function(){this.chart=c.a.init(this.$el),this.setOptions(this.chartData)}}},d=h,u=a("f44b"),f=Object(u["a"])(d,s,r,!1,null,null,null),m=f.exports,p=a("b775");function v(){return Object(p["a"])({url:"/app/business/flowlabel",method:"get"})}function b(){return Object(p["a"])({url:"/app/business/flowcharts",method:"get"})}var g=function(t){var e=new Date,a=e.getTime()+864e5*t;e.setTime(a);var i=e.getMonth(),n=e.getDate();return i=_(i+1),n=_(n),i+"."+n};function _(t){var e=t;return 1===t.toString().length&&(e="0"+t),e}var w={components:{LineChart:m},data:function(){return{tableList:[],checkedList:["访客数 (占比)","新访客数 (占比)","老访客数 (占比)","跳失率","平均浏览量"],dataType:["访客数 (占比)","新访客数 (占比)","老访客数 (占比)","跳失率","平均浏览量","平均停留时间","收藏小程序数","下单买家数","下单金额","支付转化率","支付买家数","支付金额"],tableData:[{id:1,date:"12312",name:"23%",type:"微信",children:[{id:31,date:"123",name:"2%"},{id:33,date:"223",name:"21%"},{id:34,date:"23",name:"11%"},{id:35,date:"2016-05-01"},{id:36,date:"2016-05-01"}]},{id:2,date:"2016-05-01",type:"外部",children:[{id:43,date:"2016-05-01",name:"王小虎"},{id:44,date:"2016-05-01",name:"王小虎"}]}],list:[],currentId:0,lineChartData:{tit:"访客数",actualData:[],xdate:[]},value:"",selected:"",chooseOne:"",wxList:[],chartsData:[]}},created:function(){this.getInfo()},methods:{getInfo:function(){var t=this;v().then(function(e){for(var a in t.list=e.data,t.list)t.list[a].type=a;t.list.visit.name="访客数",t.list.browse.name="浏览量",t.list.save_goods.name="收藏小程序人数",t.list.share_app.name="分享小程序人数",t.list.share_app_num.name="分享小程序次数",t.list.share_goods.name="分享商品人数",t.list.share_goods_num.name="分享商品次数",t.list.auth.name="授权人数",console.log(t.list)}),b().then(function(e){t.chartsData=e.data,t.lineChartData.actualData=e.data.visit;for(var a=[],i=-7;i<0;i++)a.push(g(i));t.lineChartData.xdate=a})},checked:function(){this.tableList=this.checkedList,console.log(this.tableList)},reSet:function(){this.checkedList=["访客数 (占比)","新访客数 (占比)","老访客数 (占比)","跳失率","平均浏览量"],this.checked()},choose:function(t,e,a){this.currentId=t,this.lineChartData.tit=e,this.lineChartData.actualData=this.chartsData[a]},changeDate:function(t){this.pickdate=t[0]+"~"+t[1],console.log(this.pickdate)},search:function(){}}},y=w,D=(a("2a71"),Object(u["a"])(y,i,n,!1,null,"093c8f6d",null));e["default"]=D.exports}}]);