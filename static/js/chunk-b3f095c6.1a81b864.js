(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3f095c6"],{4400:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"clearfix"},[a("el-button",{staticClass:"reset",attrs:{slot:"append",type:"primary",size:"small"},slot:"append"},[t._v("重置")]),t._v(" "),a("el-input",{staticClass:"search",attrs:{placeholder:"请输入界面的中文名称或URL",size:"small"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1)],1),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"中文名",width:"240"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"URL",width:"auto"}})],1)],1),t._v(" "),a("div",{staticClass:"operation clearfix"},[a("div",{staticClass:"block"},[a("el-button",{staticStyle:{float:"right",margin:"2px 0 0 10px"},attrs:{type:"primary",size:"mini"},on:{click:t.reset}},[t._v("重置")]),t._v(" "),a("el-button",{staticStyle:{float:"right",margin:"2px 0 0 10px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.search()}}},[t._v("确认")]),t._v(" "),a("el-date-picker",{staticClass:"timepick",attrs:{type:"daterange",align:"right",clearable:!1,size:"small","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)]),t._v(" "),a("div",{staticClass:"tab"},[a("ul",{staticClass:"choose-table clearfix"},t._l(t.list,function(e){return a("li",{key:e.type,class:["choose-one",e.type==t.currentId?"checked":""],on:{click:function(a){return t.choose(e)}}},[a("p",{staticClass:"h1"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"h2"},[t._v(t._s(e.number))]),t._v(" "),a("p",{staticClass:"h3"},[t._v("\n          环比    \n          "),a("span",[t._v(t._s(e.hb))]),t._v(" "),a("i",{staticClass:"icon"})]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.currentId==e.type,expression:"currentId == item.type ? true:false"}],staticClass:"current"})])}),0)]),t._v(" "),a("div",{staticClass:"echarts"},[a("line-chart",{attrs:{"chart-data":t.lineChartData}})],1)])},s=[],n=(a("0175"),a("9a44"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})}),r=[],l=a("34de"),o=a.n(l),c=a("ed08"),h={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null,sidebarElm:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.initChart(),this.autoResize&&(this.__resizeHandler=Object(c["a"])(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)),this.sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler),this.chart.dispose(),this.chart=null)},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.expectedData,a=t.actualData;this.chart.setOption({title:{text:this.chartData.tit,textStyle:{fontSize:16,color:"#404040",fontWeight:400}},grid:{left:20,right:20,bottom:20,top:60,containLabel:!0},xAxis:{data:this.chartData.xdate,boundaryGap:!1,axisTick:{show:!1}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1},axisLine:{show:!1}},legend:{data:[this.chartData.date,""],right:10},series:[{name:this.chartData.date,itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:this.pickDate,smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})},initChart:function(){this.chart=o.a.init(this.$el),this.setOptions(this.chartData)}}},d=h,u=a("f44b"),p=Object(u["a"])(d,n,r,!1,null,null,null),m=p.exports,v=a("b775");function f(t,e){return Object(v["a"])({url:"/app/business/pagelabel",method:"get",params:{start_time:t,end_time:e}})}function g(t,e){return Object(v["a"])({url:"/app/business/pagecharts",method:"get",params:{start_time:t,end_time:e}})}var b=function(t){var e=new Date,a=e.getTime()+864e5*t;e.setTime(a);var i=e.getMonth(),s=e.getDate();return i=D(i+1),s=D(s),i+"."+s};function D(t){var e=t;return 1===t.toString().length&&(e="0"+t),e}function y(t,e){var a=function(t){var e=new Date,a=t.split("-");return e.setFullYear(a[0]),e.setMonth(a[1]-1),e.setDate(a[2]),e},i=a(t),s=a(e);if(i>s){var n=i;i=s,s=n}i.setDate(i.getDate()+1);var r=[],l=0;while(i.getFullYear()!==s.getFullYear()||i.getMonth()!==s.getMonth()||i.getDate()!==s.getDate()){var o=i.getDate().toString();1===o.length&&(o="0"+o),r[l]=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+o,l++,i.setDate(i.getDate()+1)}return r.splice(0,0,t),r.push(e),r}var _={components:{LineChart:m},data:function(){return{tableData:[],list:[{tit:"页面浏览次数",name:"timeCount",num:15703,pre:"6.44%",id:1},{tit:"页面访问者数量",name:"PVCount",num:15703,pre:"6.44%",id:2},{tit:"页面触底次数",name:"bottomOut",num:15703,pre:"6.44%",id:3},{tit:"页面触底人数",name:"bottomOutUV",num:15703,pre:"6.44%",id:4},{tit:"页面停留时间",name:"durationTime",num:15703,pre:"6.44%",id:5},{tit:"页面平均停留时间",name:"averageDuration",num:15703,pre:"6.44%",id:6},{tit:"页面离开触点",name:"leaveWay",num:15703,pre:"6.44%",id:7}],currentId:"visit",lineChartData:{tit:"页面访问者数量",expectedData:[],xdate:[],date:"近七天"},chartsList:{},value:[],selected:""}},created:function(){this.getPageLabel(),this.getPageCharts()},methods:{getPageLabel:function(t,e){var a=this,i=t,s=e;t&&(i=new Date(t),s=new Date(e),i=parseInt(Date.parse(i)/1e3),s=parseInt(Date.parse(s)/1e3),this.lineChartData.date=t+"至"+e,console.log(i,s)),f(i,s).then(function(t){for(var e in a.list=t.data,a.list)a.list[e].type=e;a.list.visit.name="页面访问者数量",a.list.browse.name="页面浏览次数",a.list.avg_time.name="页面平均停留时间",a.list.times.name="页面触底次数",console.log(a.list)})},getPageCharts:function(t,e){var a=this,i=t,s=e;t&&(i=new Date(t),s=new Date(e),i=parseInt(Date.parse(i)/1e3),s=parseInt(Date.parse(s)/1e3),this.lineChartData.date=t+"至"+e,console.log(i,s)),g(i,s).then(function(i){if(console.log(i),a.chartsList=i.data,a.lineChartData.expectedData=a.chartsList.visit,t){var s=y(t,e);a.lineChartData.xdate=s}else{for(var n=[],r=-7;r<0;r++)n.push(b(r));a.lineChartData.xdate=n}})},choose:function(t){this.currentId=t.type,this.lineChartData.tit=t.tit,this.lineChartData.expectedData=this.chartsList[t.type]},changeDate:function(t){this.pickdate=t[0]+"~"+t[1],console.log(this.pickdate)},search:function(){var t=this.value[0],e=this.value[1];this.getPageLabel(t,e),this.getPageCharts(t,e)},reset:function(){}}},w=_,C=(a("6a5d"),Object(u["a"])(w,i,s,!1,null,"45281bfc",null));e["default"]=C.exports},"6a5d":function(t,e,a){"use strict";var i=a("dbf6"),s=a.n(i);s.a},dbf6:function(t,e,a){}}]);